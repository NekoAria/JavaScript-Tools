javascript:(async()=>{let e,t;const{host:o}=location;try{if(["twitter.com","x.com"].includes(o)){const o=document.querySelector("script[type='application/ld+json']");if(!o)return void alert("Please open the profile page.");{const{mainEntity:r}=JSON.parse(o.innerText);r&&(e=`https://twitter.com/${r.additionalName}`,t=`https://twitter.com/intent/user?user_id=${r.identifier}`)}}else if("www.pixiv.net"===o){if(location.pathname.includes("users"))e=location.toString().replace("en/","");else{const t=document.querySelector("a[href*='/users/']");e=`https://${o}/users/${t.dataset.gtmValue}`}t=await fetch(e.replace("en/","").replace("users","stacc/id")).then((e=>e.url))}else if("bsky.app"===o){const o=/\/profile\/([^/]+)/,r=location.pathname.match(o);if(!r||!r[1])throw new Error("Unable to retrieve user information from Bluesky URL.");{const o=r[1];e=`https://bsky.app/profile/${o}`,o.startsWith("did:")?(t=e,e=`https://bsky.app/profile/${await fetch(`https://public.api.bsky.app/xrpc/app.bsky.actor.getProfile?actor=${o}`).then((e=>e.json())).then((e=>e.handle))}`):t=`https://bsky.app/profile/${await fetch(`https://public.api.bsky.app/xrpc/com.atproto.identity.resolveHandle?handle=${o}`).then((e=>e.json())).then((e=>e.did))}`}}else if("www.youtube.com"===o){if(location.pathname.includes("/watch"))return void alert("Please open the channel page.");let o=null;const r=document.querySelector("span.yt-content-metadata-view-model-wiz__metadata-text");r?.textContent.trim().startsWith("@")&&(o=r.textContent);const a=document.querySelector("link[rel='canonical']");if(!o)return void alert("Please reload the channel page.");e=`https://www.youtube.com/${o}`,t=a.href}else if(o.includes("fanbox.cc")){let r;if("www.fanbox.cc"===o){const e=location.pathname.match(/^\/@([a-zA-Z0-9_-]+)$/);if(!e||!e[1])throw new Error("Unable to retrieve username from Fanbox URL.");r=e[1]}else r=o.split(".")[0];const a=await fetch(`https://api.fanbox.cc/creator.get?creatorId=${r}`),n=await a.json();if(!n?.body?.user)throw new Error("Unable to retrieve user information from Fanbox API.");e=location.href,t=`https://www.pixiv.net/fanbox/creator/${n.body.user.userId}`}else if(o.includes("gumroad.com"))document.querySelectorAll(".js-react-on-rails-component").forEach((o=>{const r=JSON.parse(o.textContent).creator_profile;r&&(e=`https://${r.subdomain}`,t=`https://${r.external_id}.gumroad.com`)}));else if(o.includes("patreon.com")){const o=document.querySelector("script#__NEXT_DATA__");if(!o)throw new Error("The necessary data on the Patreon page cannot be found");{const r=JSON.parse(o.textContent);let a=r?.props?.pageProps?.bootstrapEnvelope?.commonBootstrap?.campaign?.data?.relationships?.creator?.data?.id||r?.props?.pageProps?.bootstrapEnvelope?.pageBootstrap?.campaign?.data?.relationships?.creator?.data?.id||r?.props?.pageProps?.bootstrapEnvelope?.pageBootstrap?.pageUser?.data?.id;if(!a)throw new Error("Unable to extract user ID from Patreon page");e=location.href.replace("http://","https://").replace(":443","").replace("/c/","").replace("/home","").replace(/\/$/,""),t=`https://www.patreon.com/user?u=${a}`,e.includes("patreon.com")&&!e.includes("www.patreon.com")&&(e=e.replace("patreon.com","www.patreon.com"))}}else if("fantia.jp"===o){const o=document.querySelector(".fanclub-header a");if(!o)throw new Error("Unable to find creator information on Fantia page");{const r=o.getAttribute("href");e=`https://fantia.jp${r}`;const a=document.querySelector("#nickname");t=a?.getAttribute("value")?`https://fantia.jp/${a.getAttribute("value")}`:e}}else if(o.includes("lofter.com")){e=window.hostUrl;const o=document.querySelector('input[name="blogId"]')?.value;if(!o)throw new Error("Unable to find blog ID on Lofter page");t=`https://www.lofter.com/mentionredirect.do?blogId=${o}`}else{const o=document.querySelector("meta[property='og:url']")?.content,r=o?new URL(o):null,a=r?r.host:null;if("xfolio.jp"===a){const a=document.querySelector("div.creatorInfo");if(a)e=a.dataset.creatorPortfolioTopUrl,t=a.dataset.creatorUrl;else if(r.pathname.startsWith("/users/")){const r=document.querySelector("div.userProfile__btn a"),a=new URL(r.href);if("xfolio.jp"===a.host){const t=a.pathname.split("/").slice(-2).join("/");e=`https://xfolio.jp/${t}`}else e=a.origin;t=o}}else{const o=document.querySelector("meta[name='misskey:user-username']")?.content;if(!o)return void alert(`Unsupported site: ${a}`);{const r=document.querySelector("meta[name='misskey:user-id']").content;e=`https://${a}/@${o}`,t=`https://${a}/users/${r}`}}}}catch(e){return void alert(`Error: ${e.message}`)}navigator.userAgent.toLowerCase().includes("firefox")?alert(`${e}\n${t}`):prompt(`${o} URLs`,`${e}\n${t}`)})();